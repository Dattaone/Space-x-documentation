---
import { getLaunches } from "../services/spacex.ts";
import { chunckArray } from "../utils/util.ts";
import CardLaunch from "./CardLaunch.astro";

const launches = await getLaunches();



const launchesChunks = chunckArray(launches, 12);
const totalPages = launchesChunks.length;
---

<div
  class="conteiner px-8 py-20 grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 pb-0 mb-0 "
>
  {
    launchesChunks[1].map((launch) => {
      const imagen = launch.links.patch.small + "";
      return (
        <CardLaunch 
            id={launch.id} 
            name={launch.name} 
            img={imagen} 
            success={launch.success} 
            flightNumber={launch.flight_number}
            details={launch.details}
        />
      );
    })
  }
</div>
<div class=" m- w-full min-h-screen items-center justify-center">
  <div class=" select-none space-x-1">
    <a href="#" class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"> Anterior </a>
    {
      Array.from({ length: totalPages }, (_, index) => {
        return(
        <a
          href="#"
          class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"
        >
          {index + 1}
        </a>
        

        
      )})
    }
    <a href="#" class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"> 1 </a>
    <a href="#" class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"> 2 </a>
    <a href="#" class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"> 3 </a>
    <span class="rounded-md px-4 py-2 text-white"> ... </span>
    <a href="#" class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"> 10 </a>
    <a href="#" class="rounded-md bg-gray-200 px-4 py-2 transition duration-300 hover:bg-gray-400"> Siguiente </a>
  </div>
</div>
